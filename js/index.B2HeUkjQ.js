const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index.n2ub6gaD.js","js/vendor.CMxRXM2l.js","css/vendor.BINvp5Zy.css","css/index.F2P0m0r9.css"])))=>i.map(i=>d[i]);
import{u as q,o as y,c as w,a as p,z,E as M,w as k,b as x,K as W,r as L,d as B,R as F,e as Y,f as K,g as Q,h as S,i as U,j as H,n as D,k as X,l as O,m as G,p as m,q as J,s as Z,N as E,t as g,v as b,x as ee,y as R,A as te,B as ne}from"./vendor.CMxRXM2l.js";(function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0})}function o(t){if(t.ep)return;t.ep=!0;const s=function(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}(t);fetch(t.href,s)}})();const V=(e,o)=>{const t=e.__vccOpts||e;for(const[s,n]of o)t[s]=n;return t},oe=V({__name:"App",setup(e){const o=q();return(t,s)=>{const n=M;return y(),w(n,{locale:p(z)},{default:k(()=>[x(p(F),null,{default:k(({Component:r})=>[(y(),w(W,null,[p(o).meta.keepAlive?(y(),w(L(r),{key:p(o).path})):B("",!0)],1024)),p(o).meta.keepAlive?B("",!0):(y(),w(L(r),{key:p(o).path}))]),_:1})]),_:1},8,["locale"])}}},[["__scopeId","data-v-1da5e57a"]]),re=Y(),j={},P=K({history:Q("/tianjin/settleAccount/"),routes:[{path:"/",redirect:"/settlement"},{path:"/settlement",name:"settlement",component:()=>function(e,o){let t=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));t=Promise.allSettled(o.map(a=>{if((a=function(d){return"/tianjin/settleAccount/"+d}(a))in j)return;j[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const i=document.createElement("link");return i.rel=l?"stylesheet":"modulepreload",l||(i.as="script"),i.crossOrigin="",i.href=a,r&&i.setAttribute("nonce",r),document.head.appendChild(i),l?new Promise((d,u)=>{i.addEventListener("load",d),i.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${a}`)))}):void 0}))}function s(n){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=n,window.dispatchEvent(r),!r.defaultPrevented)throw n}return t.then(n=>{for(const r of n||[])r.status==="rejected"&&s(r.reason);return e().catch(s)})}(()=>import("./index.n2ub6gaD.js"),__vite__mapDeps([0,1,2,3])),meta:{keepAlive:!1}}],scrollBehavior:(e,o,t)=>e.path==="/"&&t?{...t}:{top:0}});if(typeof window<"u"){let e=function(){var o=document.body,t=document.getElementById("__svg__icons__dom__");t||((t=document.createElementNS("http://www.w3.org/2000/svg","svg")).style.position="absolute",t.style.width="0",t.style.height="0",t.id="__svg__icons__dom__",t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),t.innerHTML="",o.insertBefore(t,o.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const se=["xlink:href"],ae=V({__name:"index",props:{iconClass:{type:String,required:!0},className:{type:String,default:""},color:{type:String,default:"#000000"}},setup(e){const o=e,t=S(()=>`#icon-${o.iconClass}`),s=S(()=>o.className?`svg-icon ${o.className}`:"svg-icon");return(n,r)=>(y(),U("svg",{class:D(p(s)),style:X({color:o.color}),"aria-hidden":"true"},[H("use",{"xlink:href":p(t)},null,8,se)],6))}},[["__scopeId","data-v-fe00a57b"]]),ie={BASE_URL:"/tianjin/settleAccount/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API_BASE_URL:"https://ibosd.10010.com/tianjin/settleAccount/settlement/jiesuan/",VITE_APP_API_CAS_URL:"https://cas.newbuy.chinaunicom.cn",VITE_BASE:"/tianjin/settleAccount/"};class ce{constructor(){this.p=!1,this.o=!1,this.e=!1,this.c=Number.NaN,this.m="",this.d={},this.s=0,this.b=void 0,this.f=void 0,this.t="",this.u="",this.up="",this.r={}}}const A=O.create({timeout:6e5,baseURL:"",headers:{"Content-Type":"application/json"}});function le(e,o,t,s={}){const{method:n="post",responseType:r="json",headers:a={},type:l="1"}=s;let c=(d=>{let u;return d==1&&(u=ie.VITE_APP_API_BASE_URL),u})(l);const i=O.create({baseURL:c,responseType:r,timeout:A.defaults.timeout,headers:{...A.defaults.headers,...a}});return i.interceptors.request.use(A.interceptors.request.handlers[0]&&A.interceptors.request.handlers[0].fulfilled),new Promise((d,u)=>{e.b=new Date,e.t="ajax",e.u=o,e.r=t,e.p=!0,e.o=!1,e.e=!1,e.m="",e.d={},e.s+=1,t={...t},(n==="get"?i.get(o,{params:t}):i.post(o,t)).then(f=>{const _=f.data;e.f=new Date,e.p=!1,e.c=f.status,e.d=_,e.c=="200"?e.d.code!="0"?(e.o=!1,e.e=!0,e.m=`${e.d.message}`,m({message:e.m,type:"warning"}),u(e)):(e.o=!0,e.e=!1,e.m=_.message,d(e)):(e.o=!1,e.e=!0,e.m=`${f.code}服务调用异常`,m({message:e.m,type:"error"}),u(e))}).catch(f=>{var _,I,T,N;e.f=new Date,e.p=!1,e.o=!1,e.e=!0,e.c=-2,((_=f.response)==null?void 0:_.status)===404?e.m="后台服务暂未开通":e.m=((T=(I=f.response)==null?void 0:I.data)==null?void 0:T.message)||"服务调用异常",m({message:e.m,type:"error"}),e.d=(N=f.response)==null?void 0:N.data,u(e)})})}const v=J("user",{state:()=>({userInfo:{jobNumber:""},selectTime:Z().subtract(1,"months").format("YYYYMM")}),actions:{}}),ue={BASE_URL:"/tianjin/settleAccount/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API_BASE_URL:"https://ibosd.10010.com/tianjin/settleAccount/settlement/jiesuan/",VITE_APP_API_CAS_URL:"https://cas.newbuy.chinaunicom.cn",VITE_BASE:"/tianjin/settleAccount/"};E.configure({showSpinner:!1});const de=["/settlement"];let $;P.beforeEach(async(e,o,t)=>{if(E.start(),de.includes(e.matched[0].path)){const s="production",n=ue,r={development:n.VITE_APP_BASE_URL_PROXY||"",test:n.VITE_APP_API_CAS_URL,production:n.VITE_APP_API_CAS_URL},a=new URL(window.location.href),l=`${a.protocol}//${a.hostname}${a.port?`:${a.port}`:""}${a.pathname}`,c=new URLSearchParams(window.location.search).get("ticket");if(c)if(v().userInfo.jobNumber=="")try{const i=await le(G(new ce),"/UnifyAuthority/authentication/login/cas",{service:l,ticket:c});v().$patch(d=>{d.userInfo.jobNumber=i.d.data}),v().userInfo.jobNumber!=""?t({...e,replace:!0}):window.location.href=`${r[s]}/ESB-CAS-WEB/login?service=${l}`}catch{return void m.error("获取用户信息失败")}else t();else window.location.href=`${r[s]}/ESB-CAS-WEB/login?service=${l}`}else v().userInfo.jobNumber!=""&&(E.done(),t())}),P.afterEach(()=>{E.done()});const pe={msg(e){m.info(e)},msgError(e){m.error(e)},msgSuccess(e){m.success(e)},msgWarning(e){m.warning(e)},alert(e){g.alert(e,"系统提示")},alertError(e){g.alert(e,"系统提示",{type:"error"})},alertSuccess(e){g.alert(e,"系统提示",{type:"success"})},alertWarning(e){g.alert(e,"系统提示",{type:"warning"})},notify(e){b.info(e)},notifyError(e){b.error(e)},notifySuccess(e){b.success(e)},notifyWarning(e){b.warning(e)},confirm:e=>g.confirm(e,"系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),prompt:e=>g.prompt(e,"系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),loading(e){$=ee.service({lock:!0,text:e,background:"rgba(0, 0, 0, 0.7)"})},closeLoading(){$.close()}},me={keepTwoDecimal(e,o=!1){if(Number.isNaN(e))return;if(o)return e.toFixed(2);const t=Math.round(100*parseFloat(e))/100;return Number.isInteger(t)?t:t.toFixed(2)},handleData(e,o=!1,t=!1,s=!0){if(e===0)return t?"0.00%":0;if(!e)return"--";if(o){const n=this.keepTwoDecimal(100*e,t);return s?`${n}%`:n}return e}};Math.easeInOutQuad=function(e,o,t,s){return(e/=s/2)<1?t/2*e*e+o:-t/2*(--e*(e-2)-1)+o};var fe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function C(e,o,t){const s=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,n=e-s;let r=0;o=o===void 0?500:o;var a=function(){r+=20;var l,c=Math.easeInOutQuad(r,s,n,o);l=c,document.documentElement.scrollTop=l,document.body.parentNode.scrollTop=l,document.body.scrollTop=l,r<o&&fe(a)};a()}const ge={__name:"index",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:()=>[10,20,30,50]},pagerCount:{type:Number,default:document.body.clientWidth<992?5:7},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},emits:["update:page","update:limit","pagination"],setup(e,{emit:o}){const t=e,s=o,n=S({get:()=>t.page,set(c){s("update:page",c)}}),r=S({get:()=>t.limit,set(c){s("update:limit",c)}});function a(c){n.value*c>t.total&&(n.value=1),s("pagination",{page:n.value,limit:c}),t.autoScroll&&C(0,800)}function l(c){s("pagination",{page:c,limit:r.value}),t.autoScroll&&C(0,800)}return(c,i)=>{const d=te;return y(),U("div",{class:D([{hidden:e.hidden},"pagination-container"])},[x(d,{background:e.background,"current-page":p(n),"onUpdate:currentPage":i[0]||(i[0]=u=>R(n)?n.value=u:null),"page-size":p(r),"onUpdate:pageSize":i[1]||(i[1]=u=>R(r)?r.value=u:null),layout:e.layout,"page-sizes":e.pageSizes,"pager-count":e.pagerCount,total:e.total,onSizeChange:a,onCurrentChange:l},null,8,["background","current-page","page-size","layout","page-sizes","pager-count","total"])],2)}}},h=ne(oe);h.component("Pagination",ge),h.use(re),h.use(P),h.use(function(e){e.config.globalProperties.$modal=pe,e.config.globalProperties.$tools=me}),h.component("svg-icon",ae),h.mount("#app");export{V as _};
