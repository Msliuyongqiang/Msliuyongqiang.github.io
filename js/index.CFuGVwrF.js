import{f as p,g as w,h as i,F as E,i as y,o as l,j as n,t as r,k as m,l as v,w as U,m as A,E as D,n as H,p as M,q as V}from"./vendor.HH8kQifQ.js";import{_ as F}from"./index.1H-qLvxj.js";const I=[{id:1,author:"用户A",content:"这个产品真的很好用，推荐给大家！",time:"2024-09-25 18:00",replies:[{id:1,author:"用户B",to:"用户A",content:"确实不错，我也在用。",time:"2024-09-25 18:05:22"},{id:2,author:"用户C",to:"用户B",content:"请问具体有什么优势呢？",time:"2024-09-25 18:10:45"},{id:3,author:"用户D",to:"用户C",content:"我觉得使用起来非常流畅，功能也很全面。",time:"2024-09-25 18:15:30"},{id:4,author:"用户E",to:"用户A",content:"谢谢推荐，我打算试试看。",time:"2024-09-25 18:20:10"},{id:5,author:"用户F",to:"用户E",content:"一起交流使用心得吧！",time:"2024-09-25 18:25:55"},{id:6,author:"用户G",to:"用户F",content:"好主意，我也想了解更多。",time:"2024-09-25 18:30:40"},{id:7,author:"用户H",to:"用户G",content:"这个产品的售后服务也很好。",time:"2024-09-25 18:35:25"},{id:8,author:"用户I",to:"用户H",content:"是的，上次有问题客服很快就解决了。",time:"2024-09-25 18:40:15"},{id:9,author:"用户J",to:"用户I",content:"看来值得入手，谢谢大家的分享。",time:"2024-09-25 18:45:05"},{id:10,author:"用户K",to:"用户J",content:"不客气，有问题可以一起讨论。",time:"2024-09-25 18:50:50"},{id:11,author:"用户L",to:"用户A",content:"请问在哪里可以买到？",time:"2024-09-25 18:55:35"}],isExpanded:!1},{id:2,author:"用户M",content:"有谁知道这款产品的最新活动吗？",time:"2024-09-25 19:00",replies:[{id:1,author:"用户N",to:"用户M",content:"官方商城有优惠，赶紧去看看吧。",time:"2024-09-25 19:05:22"},{id:2,author:"用户O",to:"用户N",content:"谢谢提醒，我刚下单了。",time:"2024-09-25 19:10:45"},{id:3,author:"用户P",to:"用户O",content:"优惠力度挺大的，不容错过。",time:"2024-09-25 19:15:30"}],isExpanded:!1},{id:3,author:"用户Q",content:"请问这款产品适合新手使用吗？",time:"2024-09-25 19:20",replies:[{id:1,author:"用户R",to:"用户Q",content:"非常适合，操作界面很友好。",time:"2024-09-25 19:25:10"},{id:2,author:"用户S",to:"用户R",content:"赞同，上手很快。",time:"2024-09-25 19:30:55"}],isExpanded:!1},{id:4,author:"用户T",content:"有没有人遇到安装问题？",time:"2024-09-25 19:40",replies:[{id:1,author:"用户U",to:"用户T",content:"可以参考官方教程，很详细。",time:"2024-09-25 19:45:22"},{id:2,author:"用户V",to:"用户U",content:"如果还有问题，可以联系售后。",time:"2024-09-25 19:50:45"}],isExpanded:!1},{id:5,author:"用户W",content:"产品的质量如何？",time:"2024-09-25 20:00",replies:[{id:1,author:"用户X",to:"用户W",content:"质量不错，用了半年没有问题。",time:"2024-09-25 20:05:30"},{id:2,author:"用户Y",to:"用户X",content:"同感，性价比很高。",time:"2024-09-25 20:10:15"},{id:3,author:"用户Z",to:"用户Y",content:"打算推荐给朋友。",time:"2024-09-25 20:15:05"}],isExpanded:!1}],O={class:"chat-area"},T={class:"avatar"},b={class:"message"},j={class:"message-content"},z={class:"content"},B={class:"message-conOption"},G=["onClick"],J={key:0,class:"replies"},L={class:"reply-meta"},N=["onClick"],Q={class:"message-actions"},R={key:0},W={key:1},X=["onClick"],$={key:1,class:"reply-box"},Z=F({__name:"index",setup(q){const g=p(I);g.value.forEach(o=>{o.isExpanded=!1,o.currentPage=1});const u=p(""),t=p({message:null,to:null}),c=p(!1),k=w(()=>t.value.to?`回复 @${t.value.to}:`:`回复 ${t.value.message.author}:`),C=o=>{const s=8*(o.currentPage-1),h=s+8;return o.replies.slice(s,h)},x=(o,s=null)=>{t.value.message===o&&c.value&&t.value.to===s?(c.value=!1,t.value={message:null,to:null},u.value=""):(t.value={message:o,to:s},c.value=!0,u.value="")},P=()=>{if(u.value.trim()){const o={id:Date.now(),author:"暖心pro",to:t.value.to||t.value.message.author,content:u.value,time:A().format("YYYY-MM-DD HH:mm:ss")};t.value.message.replies.unshift(o),t.value.message.isExpanded||(t.value.message.isExpanded=!0),t.value.message.currentPage=1,u.value="",t.value={message:null,to:null},c.value=!1}};return(o,s)=>{const h=D,f=H,Y=M;return l(),i("div",O,[(l(!0),i(E,null,y(g.value,e=>(l(),i("div",{key:e.id,class:"chart-content"},[n("div",T,r(e.author),1),n("div",b,[n("div",j,[n("div",z,r(e.content),1),n("div",B,[n("span",null,r(e.time),1),n("span",{onClick:a=>x(e)},"回复",8,G)])]),e.isExpanded?(l(),i("div",J,[(l(!0),i(E,null,y(C(e),a=>(l(),i("div",{key:a.id,class:"reply-item"},[n("span",null,r(a.author)+" 回复 "+r(a.to)+"："+r(a.content),1),n("div",L,[n("span",null,r(a.time),1),n("span",{class:"replayTwoLevel",onClick:d=>x(e,a.author)},"回复",8,N)])]))),128))])):m("",!0),n("div",Q,[e.replies.length>0?(l(),i("span",R," 共 "+r(e.replies.length)+" 条回复， ",1)):m("",!0),e.replies.length>8&&e.isExpanded?(l(),i("div",W,[v(h,{layout:"prev, pager, next","page-size":8,total:e.replies.length,"current-page":e.currentPage,"onUpdate:currentPage":a=>e.currentPage=a,onCurrentChange:a=>(d=>_=>{d.currentPage=_})(e),size:"large","hide-on-single-page":!0,"prev-text":"上一页","next-text":"下一页"},null,8,["total","current-page","onUpdate:currentPage","onCurrentChange"])])):m("",!0),e.replies.length>0?(l(),i("span",{key:2,class:"isExpand",onClick:a=>(d=>{d.isExpanded=!d.isExpanded,d.isExpanded&&(d.currentPage=1)})(e)},r(e.isExpanded?"收起":"点击查看"),9,X)):m("",!0)]),t.value.message===e&&c.value?(l(),i("div",$,[v(f,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=a=>u.value=a),placeholder:k.value,type:"textarea",maxlength:"50","show-word-limit":""},null,8,["modelValue","placeholder"]),v(Y,{type:"primary",onClick:P,style:{height:"100%"}},{default:U(()=>s[1]||(s[1]=[V(" 发送 ")])),_:1})])):m("",!0)])]))),128))])}}},[["__scopeId","data-v-bcaa7827"]]);export{Z as default};
